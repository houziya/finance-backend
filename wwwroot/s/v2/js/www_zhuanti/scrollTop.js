(function(){var COUNT_FRAMERATE,COUNT_MS_PER_FRAME,DIGIT_FORMAT,DIGIT_HTML,DIGIT_SPEEDBOOST,DURATION,FORMAT_MARK_HTML,FORMAT_PARSER,FRAMERATE,FRAMES_PER_VALUE,MS_PER_FRAME,MutationObserver,Odometer,RIBBON_HTML,TRANSITION_END_EVENTS,TRANSITION_SUPPORT,VALUE_HTML,addClass,createFromHTML,fractionalPart,now,removeClass,requestAnimationFrame,round,transitionCheckStyles,trigger,truncate,wrapJQuery,_jQueryWrapped,_old,_ref,_ref1,__slice=[].slice;VALUE_HTML='<span class="odometer-value"></span>',RIBBON_HTML='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+VALUE_HTML+"</span></span>",DIGIT_HTML='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+RIBBON_HTML+"</span></span>",FORMAT_MARK_HTML='<span class="odometer-formatting-mark"></span>',DIGIT_FORMAT="(,ddd).dd",FORMAT_PARSER=/^\(?([^)]*)\)?(?:(.)(d+))?$/,FRAMERATE=30,DURATION=2e3,COUNT_FRAMERATE=20,FRAMES_PER_VALUE=2,DIGIT_SPEEDBOOST=.5,MS_PER_FRAME=1e3/FRAMERATE,COUNT_MS_PER_FRAME=1e3/COUNT_FRAMERATE,TRANSITION_END_EVENTS="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",transitionCheckStyles=document.createElement("div").style,TRANSITION_SUPPORT=null!=transitionCheckStyles.transition||null!=transitionCheckStyles.webkitTransition||null!=transitionCheckStyles.mozTransition||null!=transitionCheckStyles.oTransition,requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,createFromHTML=function(html){var el;return el=document.createElement("div"),el.innerHTML=html,el.children[0]},removeClass=function(el,name){return el.className=el.className.replace(new RegExp("(^| )"+name.split(" ").join("|")+"( |$)","gi")," ")},addClass=function(el,name){return removeClass(el,name),el.className+=" "+name},trigger=function(el,name){var evt;return null!=document.createEvent?(evt=document.createEvent("HTMLEvents"),evt.initEvent(name,!0,!0),el.dispatchEvent(evt)):void 0},now=function(){var _ref,_ref1;return null!=(_ref=null!=(_ref1=window.performance)&&"function"==typeof _ref1.now?_ref1.now():void 0)?_ref:+new Date},round=function(val,precision){return null==precision&&(precision=0),precision?(val*=Math.pow(10,precision),val+=.5,val=Math.floor(val),val/=Math.pow(10,precision)):Math.round(val)},truncate=function(val){return 0>val?Math.ceil(val):Math.floor(val)},fractionalPart=function(val){return val-round(val)},_jQueryWrapped=!1,(wrapJQuery=function(){var property,_i,_len,_ref,_results;if(!_jQueryWrapped&&null!=window.jQuery){for(_jQueryWrapped=!0,_ref=["html","text"],_results=[],_i=0,_len=_ref.length;_len>_i;_i++)property=_ref[_i],_results.push(function(property){var old;return old=window.jQuery.fn[property],window.jQuery.fn[property]=function(val){var _ref1;return null==val||null==(null!=(_ref1=this[0])?_ref1.odometer:void 0)?old.apply(this,arguments):this[0].odometer.update(val)}}(property));return _results}})(),setTimeout(wrapJQuery,0),Odometer=function(){function Odometer(options){var e,k,property,v,_base,_i,_len,_ref,_ref1,_ref2,_this=this;if(this.options=options,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;this.el.odometer=this,_ref=Odometer.options;for(k in _ref)v=_ref[k],null==this.options[k]&&(this.options[k]=v);null==(_base=this.options).duration&&(_base.duration=DURATION),this.MAX_VALUES=this.options.duration/MS_PER_FRAME/FRAMES_PER_VALUE|0,this.resetFormat(),this.value=this.cleanValue(null!=(_ref1=this.options.value)?_ref1:""),this.renderInside(),this.render();try{for(_ref2=["innerHTML","innerText","textContent"],_i=0,_len=_ref2.length;_len>_i;_i++)property=_ref2[_i],null!=this.el[property]&&!function(property){return Object.defineProperty(_this.el,property,{get:function(){var _ref3;return"innerHTML"===property?_this.inside.outerHTML:null!=(_ref3=_this.inside.innerText)?_ref3:_this.inside.textContent},set:function(val){return _this.update(val)}})}(property)}catch(_error){e=_error,this.watchForMutations()}}return Odometer.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},Odometer.prototype.watchForMutations=function(){var e,_this=this;if(null!=MutationObserver)try{return null==this.observer&&(this.observer=new MutationObserver(function(){var newVal;return newVal=_this.el.innerText,_this.renderInside(),_this.render(_this.value),_this.update(newVal)})),this.watchMutations=!0,this.startWatchingMutations()}catch(_error){e=_error}},Odometer.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},Odometer.prototype.stopWatchingMutations=function(){var _ref;return null!=(_ref=this.observer)?_ref.disconnect():void 0},Odometer.prototype.cleanValue=function(val){var _ref;return"string"==typeof val&&(val=val.replace(null!=(_ref=this.format.radix)?_ref:".","<radix>"),val=val.replace(/[.,]/g,""),val=val.replace("<radix>","."),val=parseFloat(val,10)||0),round(val,this.format.precision)},Odometer.prototype.bindTransitionEnd=function(){var event,renderEnqueued,_i,_len,_ref,_results,_this=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,renderEnqueued=!1,_ref=TRANSITION_END_EVENTS.split(" "),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)event=_ref[_i],_results.push(this.el.addEventListener(event,function(){return renderEnqueued?!0:(renderEnqueued=!0,setTimeout(function(){return _this.render(),renderEnqueued=!1,trigger(_this.el,"odometerdone")},0),!0)},!1));return _results}},Odometer.prototype.resetFormat=function(){var format,fractional,parsed,precision,radix,repeating,_ref,_ref1;if(format=null!=(_ref=this.options.format)?_ref:DIGIT_FORMAT,format||(format="d"),parsed=FORMAT_PARSER.exec(format),!parsed)throw new Error("Odometer: Unparsable digit format");return _ref1=parsed.slice(1,4),repeating=_ref1[0],radix=_ref1[1],fractional=_ref1[2],precision=(null!=fractional?fractional.length:void 0)||0,this.format={repeating:repeating,radix:radix,precision:precision}},Odometer.prototype.render=function(value){var classes,cls,digit,match,newClasses,theme,wholePart,_i,_j,_len,_len1,_ref;for(null==value&&(value=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",theme=this.options.theme,classes=this.el.className.split(" "),newClasses=[],_i=0,_len=classes.length;_len>_i;_i++)cls=classes[_i],cls.length&&((match=/^odometer-theme-(.+)$/.exec(cls))?theme=match[1]:/^odometer(-|$)/.test(cls)||newClasses.push(cls));for(newClasses.push("odometer"),TRANSITION_SUPPORT||newClasses.push("odometer-no-transitions"),newClasses.push(theme?"odometer-theme-"+theme:"odometer-auto-theme"),this.el.className=newClasses.join(" "),this.ribbons={},this.digits=[],wholePart=!this.format.precision||!fractionalPart(value)||!1,_ref=value.toString().split("").reverse(),_j=0,_len1=_ref.length;_len1>_j;_j++)digit=_ref[_j],"."===digit&&(wholePart=!0),this.addDigit(digit,wholePart);return this.startWatchingMutations()},Odometer.prototype.update=function(newValue){var diff,_this=this;return newValue=this.cleanValue(newValue),(diff=newValue-this.value)?(removeClass(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),diff>0?addClass(this.el,"odometer-animating-up"):addClass(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(newValue),this.startWatchingMutations(),setTimeout(function(){return _this.el.offsetHeight,addClass(_this.el,"odometer-animating")},0),this.value=newValue):void 0},Odometer.prototype.renderDigit=function(){return createFromHTML(DIGIT_HTML)},Odometer.prototype.insertDigit=function(digit,before){return null!=before?this.inside.insertBefore(digit,before):this.inside.children.length?this.inside.insertBefore(digit,this.inside.children[0]):this.inside.appendChild(digit)},Odometer.prototype.addSpacer=function(chr,before,extraClasses){var spacer;return spacer=createFromHTML(FORMAT_MARK_HTML),spacer.innerHTML=chr,extraClasses&&addClass(spacer,extraClasses),this.insertDigit(spacer,before)},Odometer.prototype.addDigit=function(value,repeating){var chr,digit,resetted,_ref;if(null==repeating&&(repeating=!0),"-"===value)return this.addSpacer(value,null,"odometer-negation-mark");if("."===value)return this.addSpacer(null!=(_ref=this.format.radix)?_ref:".",null,"odometer-radix-mark");if(repeating)for(resetted=!1;;){if(!this.format.repeating.length){if(resetted)throw new Error("Bad odometer format without digits");this.resetFormat(),resetted=!0}if(chr=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===chr)break;this.addSpacer(chr)}return digit=this.renderDigit(),digit.querySelector(".odometer-value").innerHTML=value,this.digits.push(digit),this.insertDigit(digit)},Odometer.prototype.animate=function(newValue){return TRANSITION_SUPPORT&&"count"!==this.options.animation?this.animateSlide(newValue):this.animateCount(newValue)},Odometer.prototype.animateCount=function(newValue){var cur,diff,last,start,tick,_this=this;if(diff=+newValue-this.value)return start=last=now(),cur=this.value,(tick=function(){var delta,dist,fraction;return now()-start>_this.options.duration?(_this.value=newValue,_this.render(),void trigger(_this.el,"odometerdone")):(delta=now()-last,delta>COUNT_MS_PER_FRAME&&(last=now(),fraction=delta/_this.options.duration,dist=diff*fraction,cur+=dist,_this.render(Math.round(cur))),null!=requestAnimationFrame?requestAnimationFrame(tick):setTimeout(tick,COUNT_MS_PER_FRAME))})()},Odometer.prototype.getDigitCount=function(){var i,max,value,values,_i,_len;for(values=1<=arguments.length?__slice.call(arguments,0):[],i=_i=0,_len=values.length;_len>_i;i=++_i)value=values[i],values[i]=Math.abs(value);return max=Math.max.apply(Math,values),Math.ceil(Math.log(max+1)/Math.log(10))},Odometer.prototype.getFractionalDigitCount=function(){var i,parser,parts,value,values,_i,_len;for(values=1<=arguments.length?__slice.call(arguments,0):[],parser=/^\-?\d*\.(\d*?)0*$/,i=_i=0,_len=values.length;_len>_i;i=++_i)value=values[i],values[i]=value.toString(),parts=parser.exec(values[i]),values[i]=null==parts?0:parts[1].length;return Math.max.apply(Math,values)},Odometer.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},Odometer.prototype.animateSlide=function(newValue){var boosted,cur,diff,digitCount,digits,dist,end,fractionalCount,frame,frames,i,incr,j,mark,numEl,oldValue,start,_base,_i,_k,_l,_len,_len1,_len2,_m,_ref,_results;if(oldValue=this.value,fractionalCount=this.getFractionalDigitCount(oldValue,newValue),fractionalCount&&(newValue*=Math.pow(10,fractionalCount),oldValue*=Math.pow(10,fractionalCount)),diff=newValue-oldValue){for(this.bindTransitionEnd(),digitCount=this.getDigitCount(oldValue,newValue),digits=[],boosted=0,i=_i=0;digitCount>=0?digitCount>_i:_i>digitCount;i=digitCount>=0?++_i:--_i){if(start=truncate(oldValue/Math.pow(10,digitCount-i-1)),end=truncate(newValue/Math.pow(10,digitCount-i-1)),dist=end-start,Math.abs(dist)>this.MAX_VALUES){for(frames=[],incr=dist/(this.MAX_VALUES+this.MAX_VALUES*boosted*DIGIT_SPEEDBOOST),cur=start;dist>0&&end>cur||0>dist&&cur>end;)frames.push(Math.round(cur)),cur+=incr;frames[frames.length-1]!==end&&frames.push(end),boosted++}else frames=function(){_results=[];for(var _j=start;end>=start?end>=_j:_j>=end;end>=start?_j++:_j--)_results.push(_j);return _results}.apply(this);for(i=_k=0,_len=frames.length;_len>_k;i=++_k)frame=frames[i],frames[i]=Math.abs(frame%10);digits.push(frames)}for(this.resetDigits(),_ref=digits.reverse(),i=_l=0,_len1=_ref.length;_len1>_l;i=++_l)for(frames=_ref[i],this.digits[i]||this.addDigit(" ",i>=fractionalCount),null==(_base=this.ribbons)[i]&&(_base[i]=this.digits[i].querySelector(".odometer-ribbon-inner")),this.ribbons[i].innerHTML="",0>diff&&(frames=frames.reverse()),j=_m=0,_len2=frames.length;_len2>_m;j=++_m)frame=frames[j],numEl=document.createElement("div"),numEl.className="odometer-value",numEl.innerHTML=frame,this.ribbons[i].appendChild(numEl),j===frames.length-1&&addClass(numEl,"odometer-last-value"),0===j&&addClass(numEl,"odometer-first-value");return 0>start&&this.addDigit("-"),mark=this.inside.querySelector(".odometer-radix-mark"),null!=mark&&mark.parent.removeChild(mark),fractionalCount?this.addSpacer(this.format.radix,this.digits[fractionalCount-1],"odometer-radix-mark"):void 0}},Odometer}(),Odometer.options=null!=(_ref=window.odometerOptions)?_ref:{},setTimeout(function(){var k,v,_base,_ref1,_results;if(window.odometerOptions){_ref1=window.odometerOptions,_results=[];for(k in _ref1)v=_ref1[k],_results.push(null!=(_base=Odometer.options)[k]?(_base=Odometer.options)[k]:_base[k]=v);return _results}},0),Odometer.init=function(){var el,elements,_i,_len,_ref1,_results;if(null!=document.querySelectorAll){for(elements=document.querySelectorAll(Odometer.options.selector||".odometer"),_results=[],_i=0,_len=elements.length;_len>_i;_i++)el=elements[_i],_results.push(el.odometer=new Odometer({el:el,value:null!=(_ref1=el.innerText)?_ref1:el.textContent}));return _results}},null!=(null!=(_ref1=document.documentElement)?_ref1.doScroll:void 0)&&null!=document.createEventObject?(_old=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&Odometer.options.auto!==!1&&Odometer.init(),null!=_old?_old.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return Odometer.options.auto!==!1?Odometer.init():void 0},!1),window.Odometer=Odometer}).call(this);